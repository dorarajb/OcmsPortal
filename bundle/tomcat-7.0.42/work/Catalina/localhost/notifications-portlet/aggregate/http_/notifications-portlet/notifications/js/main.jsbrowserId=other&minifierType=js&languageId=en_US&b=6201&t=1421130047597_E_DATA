AUI().use("aui-base","aui-io-plugin-deprecated",function(a){Liferay.namespace("Notifications");Liferay.Notifications={viewNotification:function(e){var b=this;var f=e.currentTarget;var d=f.attr("data-href");if(d){var c=f.attr("data-markAsReadURL");if(c){a.io.request(c,{after:{success:function(i,m,l){var h=this.get("responseData");if(h.success){var k=f.ancestor(".user-notification");if(k){k.removeClass("unread");var j=k.one(".content .read");if(j){j.setHTML(Liferay.Language.get("read"))}if(b._openWindow(d)){Liferay.Util.openWindow({id:"notificationsWindow",uri:d})}else{var g=Liferay.Util.getTop();g.location.href=d}}}}},dataType:"json"})}}},_openWindow:function(b){if(b.match("p_p_state=maximized")||b.match("p_p_state=pop_up")||b.match("p_p_state=exclusive")){return true}return false}}});